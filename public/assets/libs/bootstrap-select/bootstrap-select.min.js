(function(f){if(!String.prototype.includes){(function(){var p={}.toString;var m=(function(){try{var t={};var s=Object.defineProperty;var q=s(t,t,t)&&s}catch(r){}return q}());var o="".indexOf;var n=function(v){if(this==null){throw new TypeError()}var t=String(this);if(v&&p.call(v)=="[object RegExp]"){throw new TypeError()}var r=t.length;var s=String(v);var u=s.length;var q=arguments.length>1?arguments[1]:undefined;var x=q?Number(q):0;if(x!=x){x=0}var w=Math.min(Math.max(x,0),r);if(u+w>r){return false}return o.call(t,s,x)!=-1};if(m){m(String.prototype,"includes",{value:n,configurable:true,writable:true})}else{String.prototype.includes=n}}())}if(!String.prototype.startsWith){(function(){var m=(function(){try{var s={};var r=Object.defineProperty;var p=r(s,s,s)&&r}catch(q){}return p}());var o={}.toString;var n=function(w){if(this==null){throw new TypeError()}var t=String(this);if(w&&o.call(w)=="[object RegExp]"){throw new TypeError()}var p=t.length;var x=String(w);var r=x.length;var s=arguments.length>1?arguments[1]:undefined;var v=s?Number(s):0;if(v!=v){v=0}var q=Math.min(Math.max(v,0),p);if(r+q>p){return false}var u=-1;while(++u<r){if(t.charCodeAt(q+u)!=x.charCodeAt(u)){return false}}return true};if(m){m(String.prototype,"startsWith",{value:n,configurable:true,writable:true})}else{String.prototype.startsWith=n}}())}if(!Object.keys){Object.keys=function(p,m,n){n=[];for(m in p){n.hasOwnProperty.call(p,m)&&n.push(m)}return n}}var d={useDefault:false,_set:f.valHooks.select.set};f.valHooks.select.set=function(m,n){if(n&&!d.useDefault){f(m).data("selected",true)}return d._set.apply(this,arguments)};var l=null;f.fn.triggerNative=function(m){var n=this[0],o;if(n.dispatchEvent){if(typeof Event==="function"){o=new Event(m,{bubbles:true})}else{o=document.createEvent("Event");o.initEvent(m,true,false)}n.dispatchEvent(o)}else{if(n.fireEvent){o=document.createEventObject();o.eventType=m;n.fireEvent("on"+m,o)}else{this.trigger(m)}}};f.expr.pseudos.icontains=function(p,m,o){var q=f(p);var n=(q.data("tokens")||q.text()).toString().toUpperCase();return n.includes(o[3].toUpperCase())};f.expr.pseudos.ibegins=function(p,m,o){var q=f(p);var n=(q.data("tokens")||q.text()).toString().toUpperCase();return n.startsWith(o[3].toUpperCase())};f.expr.pseudos.aicontains=function(p,m,o){var q=f(p);var n=(q.data("tokens")||q.data("normalizedText")||q.text()).toString().toUpperCase();return n.includes(o[3].toUpperCase())};f.expr.pseudos.aibegins=function(p,m,o){var q=f(p);var n=(q.data("tokens")||q.data("normalizedText")||q.text()).toString().toUpperCase();return n.startsWith(o[3].toUpperCase())};function b(n){var m=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];f.each(m,function(){n=n?n.replace(this.re,this.ch):""});return n}var g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var a={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"};var e=function(q){var n=function(r){return q[r]};var p="(?:"+Object.keys(q).join("|")+")";var o=RegExp(p);var m=RegExp(p,"g");return function(r){r=r==null?"":""+r;return o.test(r)?r.replace(m,n):r}};var k=e(g);var h=e(a);var j=function(o,n){if(!d.useDefault){f.valHooks.select.set=d._set;d.useDefault=true}this.$element=f(o);this.$newElement=null;this.$button=null;this.$menu=null;this.$lis=null;this.options=n;if(this.options.title===null){this.options.title=this.$element.attr("title")}var m=this.options.windowPadding;if(typeof m==="number"){this.options.windowPadding=[m,m,m,m]}this.val=j.prototype.val;this.render=j.prototype.render;this.refresh=j.prototype.refresh;this.setStyle=j.prototype.setStyle;this.selectAll=j.prototype.selectAll;this.deselectAll=j.prototype.deselectAll;this.destroy=j.prototype.destroy;this.remove=j.prototype.remove;this.show=j.prototype.show;this.hide=j.prototype.hide;this.init()};j.VERSION="1.12.2";j.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(n,m){return(n==1)?"{0} item selected":"{0} items selected"},maxOptionsText:function(m,n){return[(m==1)?"Limit reached ({n} item max)":"Limit reached ({n} items max)",(n==1)?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:false,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:false,container:false,hideDisabled:false,showSubtext:false,showIcon:true,showContent:true,dropupAuto:true,header:false,liveSearch:false,liveSearchPlaceholder:null,liveSearchNormalize:false,liveSearchStyle:"contains",actionsBox:false,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:false,template:{caret:'<span class="caret"></span>'},maxOptions:false,mobile:false,selectOnTab:false,dropdownAlignRight:false,windowPadding:0};j.prototype={constructor:j,init:function(){var m=this,n=this.$element.attr("id");this.$element.addClass("bs-select-hidden");this.liObj={};this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement).appendTo(this.$newElement);this.$button=this.$newElement.children("button");this.$menu=this.$newElement.children(".dropdown-menu");this.$menuInner=this.$menu.children(".inner");this.$searchbox=this.$menu.find("input");this.$element.removeClass("bs-select-hidden");if(this.options.dropdownAlignRight===true){this.$menu.addClass("dropdown-menu-right")}if(typeof n!=="undefined"){this.$button.attr("data-id",n);f('label[for="'+n+'"]').click(function(o){o.preventDefault();m.$button.focus()})}this.checkDisabled();this.clickListener();if(this.options.liveSearch){this.liveSearchListener()}this.render();this.setStyle();this.setWidth();if(this.options.container){this.selectPosition()}this.$menu.data("this",this);this.$newElement.data("this",this);if(this.options.mobile){this.mobile()}this.$newElement.on({"hide.bs.dropdown":function(o){m.$menuInner.attr("aria-expanded",false);m.$element.trigger("hide.bs.select",o)},"hidden.bs.dropdown":function(o){m.$element.trigger("hidden.bs.select",o)},"show.bs.dropdown":function(o){m.$menuInner.attr("aria-expanded",true);m.$element.trigger("show.bs.select",o)},"shown.bs.dropdown":function(o){m.$element.trigger("shown.bs.select",o)}});if(m.$element[0].hasAttribute("required")){this.$element.on("invalid",function(){m.$button.addClass("bs-invalid").focus();m.$element.on({"focus.bs.select":function(){m.$button.focus();m.$element.off("focus.bs.select")},"shown.bs.select":function(){m.$element.val(m.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){if(this.validity.valid){m.$button.removeClass("bs-invalid")}m.$element.off("rendered.bs.select")}})})}setTimeout(function(){m.$element.trigger("loaded.bs.select")})},createDropdown:function(){var r=(this.multiple||this.options.showTick)?" show-tick":"",n=this.$element.parent().hasClass("input-group")?" input-group-btn":"",t=this.autofocus?" autofocus":"";var s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"";var q=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+k(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"";var p=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"";var m=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"";var o='<div class="btn-group bootstrap-select'+r+n+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+t+' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open" role="combobox">'+s+q+p+'<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>'+m+"</div></div>";return f(o)},createView:function(){var n=this.createDropdown(),m=this.createLi();n.find("ul")[0].innerHTML=m;return n},reloadLi:function(){var m=this.createLi();this.$menuInner[0].innerHTML=m},createLi:function(){var r=this,q=[],u=0,m=document.createElement("option"),o=-1;var t=function(y,w,x,v){return"<li"+((typeof x!=="undefined"&""!==x)?' class="'+x+'"':"")+((typeof w!=="undefined"&null!==w)?' data-original-index="'+w+'"':"")+((typeof v!=="undefined"&null!==v)?'data-optgroup="'+v+'"':"")+">"+y+"</li>"};var n=function(y,v,x,w){return'<a tabindex="0"'+(typeof v!=="undefined"?' class="'+v+'"':"")+(x?' style="'+x+'"':"")+(r.options.liveSearchNormalize?' data-normalized-text="'+b(k(f(y).html()))+'"':"")+(typeof w!=="undefined"||w!==null?' data-tokens="'+w+'"':"")+' role="option">'+y+'<span class="'+r.options.iconBase+" "+r.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple){o--;if(!this.$element.find(".bs-title-option").length){var p=this.$element[0];m.className="bs-title-option";m.innerHTML=this.options.title;m.value="";p.insertBefore(m,p.firstChild);var s=f(p.options[p.selectedIndex]);if(s.attr("selected")===undefined&&this.$element.data("selected")===undefined){m.selected=true}}}this.$element.find("option").each(function(y){var x=f(this);o++;if(x.hasClass("bs-title-option")){return}var B=this.className||"",w=this.style.cssText,C=x.data("content")?x.data("content"):x.html(),E=x.data("tokens")?x.data("tokens"):null,R=typeof x.data("subtext")!=="undefined"?'<small class="text-muted">'+x.data("subtext")+"</small>":"",N=typeof x.data("icon")!=="undefined"?'<span class="'+r.options.iconBase+" "+x.data("icon")+'"></span> ':"",G=x.parent(),v=G[0].tagName==="OPTGROUP",J=v&&G[0].disabled,D=this.disabled||J;if(N!==""&&D){N="<span>"+N+"</span>"}if(r.options.hideDisabled&&(D&&!v||J)){o--;return}if(!x.data("content")){C=N+'<span class="text">'+C+R+"</span>"}if(v&&x.data("divider")!==true){if(r.options.hideDisabled&&D){if(G.data("allOptionsDisabled")===undefined){var K=G.children();G.data("allOptionsDisabled",K.filter(":disabled").length===K.length)}if(G.data("allOptionsDisabled")){o--;return}}var P=" "+G[0].className||"";if(x.index()===0){u+=1;var z=G[0].label,Q=typeof G.data("subtext")!=="undefined"?'<small class="text-muted">'+G.data("subtext")+"</small>":"",I=G.data("icon")?'<span class="'+r.options.iconBase+" "+G.data("icon")+'"></span> ':"";z=I+'<span class="text">'+k(z)+Q+"</span>";if(y!==0&&q.length>0){o++;q.push(t("",null,"divider",u+"div"))}o++;q.push(t(z,null,"dropdown-header"+P,u))}if(r.options.hideDisabled&&D){o--;return}q.push(t(n(C,"opt "+B+P,w,E),y,"",u))}else{if(x.data("divider")===true){q.push(t("",y,"divider"))}else{if(x.data("hidden")===true){q.push(t(n(C,B,w,E),y,"hidden is-hidden"))}else{var F=this.previousElementSibling&&this.previousElementSibling.tagName==="OPTGROUP";if(!F&&r.options.hideDisabled){var M=f(this).prevAll();for(var L=0;L<M.length;L++){if(M[L].tagName==="OPTGROUP"){var H=0;for(var O=0;O<L;O++){var A=M[O];if(A.disabled||f(A).data("hidden")===true){H++}}if(H===L){F=true}break}}}if(F){o++;q.push(t("",null,"divider",u+"div"))}q.push(t(n(C,B,w,E),y))}}}r.liObj[y]=o});if(!this.multiple&&this.$element.find("option:selected").length===0&&!this.options.title){this.$element.find("option").eq(0).prop("selected",true).attr("selected","selected")}return q.join("")},findLis:function(){if(this.$lis==null){this.$lis=this.$menu.find("li")}return this.$lis},render:function(p){var o=this,r;if(p!==false){this.$element.find("option").each(function(u){var v=o.findLis().eq(o.liObj[u]);o.setDisabled(u,this.disabled||this.parentNode.tagName==="OPTGROUP"&&this.parentNode.disabled,v);o.setSelected(u,this.selected,v)})}this.togglePlaceholder();this.tabIndex();var t=this.$element.find("option").map(function(){if(this.selected){if(o.options.hideDisabled&&(this.disabled||this.parentNode.tagName==="OPTGROUP"&&this.parentNode.disabled)){return}var w=f(this),v=w.data("icon")&&o.options.showIcon?'<i class="'+o.options.iconBase+" "+w.data("icon")+'"></i> ':"",u;if(o.options.showSubtext&&w.data("subtext")&&!o.multiple){u=' <small class="text-muted">'+w.data("subtext")+"</small>"}else{u=""}if(typeof w.attr("title")!=="undefined"){return w.attr("title")}else{if(w.data("content")&&o.options.showContent){return w.data("content").toString()}else{return v+w.html()+u}}}}).toArray();var q=!this.multiple?t[0]:t.join(this.options.multipleSeparator);if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var m=this.options.selectedTextFormat.split(">");if((m.length>1&&t.length>m[1])||(m.length==1&&t.length>=2)){r=this.options.hideDisabled?", [disabled]":"";var n=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+r).length,s=(typeof this.options.countSelectedText==="function")?this.options.countSelectedText(t.length,n):this.options.countSelectedText;q=s.replace("{0}",t.length.toString()).replace("{1}",n.toString())}}if(this.options.title==undefined){this.options.title=this.$element.attr("title")}if(this.options.selectedTextFormat=="static"){q=this.options.title}if(!q){q=typeof this.options.title!=="undefined"?this.options.title:this.options.noneSelectedText}this.$button.attr("title",h(f.trim(q.replace(/<[^>]*>?/g,""))));this.$button.children(".filter-option").html(q);this.$element.trigger("rendered.bs.select")},setStyle:function(o,n){if(this.$element.attr("class")){this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""))}var m=o?o:this.options.style;if(n=="add"){this.$button.addClass(m)}else{if(n=="remove"){this.$button.removeClass(m)}else{this.$button.removeClass(this.options.style);this.$button.addClass(m)}}},liHeight:function(s){if(!s&&(this.options.size===false||this.sizeInfo)){return}var q=document.createElement("div"),m=document.createElement("div"),w=document.createElement("ul"),E=document.createElement("li"),D=document.createElement("li"),I=document.createElement("a"),C=document.createElement("span"),H=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(true):null,x=this.options.liveSearch?document.createElement("div"):null,y=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(true):null,p=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(true):null;C.className="text";q.className=this.$menu[0].parentNode.className+" open";m.className="dropdown-menu open";w.className="dropdown-menu inner";E.className="divider";C.appendChild(document.createTextNode("Inner text"));I.appendChild(C);D.appendChild(I);w.appendChild(D);w.appendChild(E);if(H){m.appendChild(H)}if(x){var A=document.createElement("input");x.className="bs-searchbox";A.className="form-control";x.appendChild(A);m.appendChild(x)}if(y){m.appendChild(y)}m.appendChild(w);if(p){m.appendChild(p)}q.appendChild(m);document.body.appendChild(q);var o=I.offsetHeight,G=H?H.offsetHeight:0,z=x?x.offsetHeight:0,v=y?y.offsetHeight:0,r=p?p.offsetHeight:0,B=f(E).outerHeight(true),n=typeof getComputedStyle==="function"?getComputedStyle(m):false,t=n?null:f(m),F={vert:parseInt(n?n.paddingTop:t.css("paddingTop"))+parseInt(n?n.paddingBottom:t.css("paddingBottom"))+parseInt(n?n.borderTopWidth:t.css("borderTopWidth"))+parseInt(n?n.borderBottomWidth:t.css("borderBottomWidth")),horiz:parseInt(n?n.paddingLeft:t.css("paddingLeft"))+parseInt(n?n.paddingRight:t.css("paddingRight"))+parseInt(n?n.borderLeftWidth:t.css("borderLeftWidth"))+parseInt(n?n.borderRightWidth:t.css("borderRightWidth"))},u={vert:F.vert+parseInt(n?n.marginTop:t.css("marginTop"))+parseInt(n?n.marginBottom:t.css("marginBottom"))+2,horiz:F.horiz+parseInt(n?n.marginLeft:t.css("marginLeft"))+parseInt(n?n.marginRight:t.css("marginRight"))+2};document.body.removeChild(q);this.sizeInfo={liHeight:o,headerHeight:G,searchHeight:z,actionsHeight:v,doneButtonHeight:r,dividerHeight:B,menuPadding:F,menuExtras:u}},setSize:function(){this.findLis();this.liHeight();if(this.options.header){this.$menu.css("padding-top",0)}if(this.options.size===false){return}var x=this,u=this.$menu,q=this.$menuInner,C=f(window),K=this.$newElement[0].offsetHeight,M=this.$newElement[0].offsetWidth,r=this.sizeInfo.liHeight,G=this.sizeInfo.headerHeight,z=this.sizeInfo.searchHeight,w=this.sizeInfo.actionsHeight,s=this.sizeInfo.doneButtonHeight,y=this.sizeInfo.dividerHeight,F=this.sizeInfo.menuPadding,v=this.sizeInfo.menuExtras,D=this.options.hideDisabled?".disabled":"",E,m,A,o,L,J,t,I,H=function(){var Q=x.$newElement.offset(),O=f(x.options.container),P;if(x.options.container&&!O.is("body")){P=O.offset();P.top+=parseInt(O.css("borderTopWidth"));P.left+=parseInt(O.css("borderLeftWidth"))}else{P={top:0,left:0}}var N=x.options.windowPadding;L=Q.top-P.top-C.scrollTop();J=C.height()-L-K-P.top-N[2];t=Q.left-P.left-C.scrollLeft();I=C.width()-t-M-P.left-N[1];L-=N[0];t-=N[3]};H();if(this.options.size==="auto"){var p=function(){var Q,P=function(T,S){return function(U){if(S){return(U.classList?U.classList.contains(T):f(U).hasClass(T))}else{return !(U.classList?U.classList.contains(T):f(U).hasClass(T))}}},O=x.$menuInner[0].getElementsByTagName("li"),N=Array.prototype.filter?Array.prototype.filter.call(O,P("hidden",false)):x.$lis.not(".hidden"),R=Array.prototype.filter?Array.prototype.filter.call(N,P("dropdown-header",true)):N.filter(".dropdown-header");H();E=J-v.vert;m=I-v.horiz;if(x.options.container){if(!u.data("height")){u.data("height",u.height())}A=u.data("height");if(!u.data("width")){u.data("width",u.width())}o=u.data("width")}else{A=u.height();o=u.width()}if(x.options.dropupAuto){x.$newElement.toggleClass("dropup",L>J&&(E-v.vert)<A)}if(x.$newElement.hasClass("dropup")){E=L-v.vert}if(x.options.dropdownAlignRight==="auto"){u.toggleClass("dropdown-menu-right",t>I&&(m-v.horiz)<(o-M))}if((N.length+R.length)>3){Q=r*3+v.vert-2}else{Q=0}u.css({"max-height":E+"px",overflow:"hidden","min-height":Q+G+z+w+s+"px"});q.css({"max-height":E-G-z-w-s-F.vert+"px","overflow-y":"auto","min-height":Math.max(Q-F.vert,0)+"px"})};p();this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",p);C.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",p)}else{if(this.options.size&&this.options.size!="auto"&&this.$lis.not(D).length>this.options.size){var B=this.$lis.not(".divider").not(D).children().slice(0,this.options.size).last().parent().index(),n=this.$lis.slice(0,B+1).filter(".divider").length;E=r*this.options.size+n*y+F.vert;if(x.options.container){if(!u.data("height")){u.data("height",u.height())}A=u.data("height")}else{A=u.height()}if(x.options.dropupAuto){this.$newElement.toggleClass("dropup",L>J&&(E-v.vert)<A)}u.css({"max-height":E+G+z+w+s+"px",overflow:"hidden","min-height":""});q.css({"max-height":E-F.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if(this.options.width==="auto"){this.$menu.css("min-width","0");var n=this.$menu.parent().clone().appendTo("body"),m=this.options.container?this.$newElement.clone().appendTo("body"):n,o=n.children(".dropdown-menu").outerWidth(),p=m.css("width","auto").children("button").outerWidth();n.remove();m.remove();this.$newElement.css("width",Math.max(o,p)+"px")}else{if(this.options.width==="fit"){this.$menu.css("min-width","");this.$newElement.css("width","").addClass("fit-width")}else{if(this.options.width){this.$menu.css("min-width","");this.$newElement.css("width",this.options.width)}else{this.$menu.css("min-width","");this.$newElement.css("width","")}}}if(this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"){this.$newElement.removeClass("fit-width")}},selectPosition:function(){this.$bsContainer=f('<div class="bs-container" />');var n=this,o=f(this.options.container),r,q,p,m=function(s){n.$bsContainer.addClass(s.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",s.hasClass("dropup"));r=s.offset();if(!o.is("body")){q=o.offset();q.top+=parseInt(o.css("borderTopWidth"))-o.scrollTop();q.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()}else{q={top:0,left:0}}p=s.hasClass("dropup")?0:s[0].offsetHeight;n.$bsContainer.css({top:r.top-q.top+p,left:r.left-q.left,width:s[0].offsetWidth})};this.$button.on("click",function(){var s=f(this);if(n.isDisabled()){return}m(n.$newElement);n.$bsContainer.appendTo(n.options.container).toggleClass("open",!s.hasClass("open")).append(n.$menu)});f(window).on("resize scroll",function(){m(n.$newElement)});this.$element.on("hide.bs.select",function(){n.$menu.data("height",n.$menu.height());n.$bsContainer.detach()})},setSelected:function(m,o,n){if(!n){this.togglePlaceholder();n=this.findLis().eq(this.liObj[m])}n.toggleClass("selected",o).find("a").attr("aria-selected",o)},setDisabled:function(m,o,n){if(!n){n=this.findLis().eq(this.liObj[m])}if(o){n.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",true)}else{n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",false)}},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var m=this;if(this.isDisabled()){this.$newElement.addClass("disabled");this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",true)}else{if(this.$button.hasClass("disabled")){this.$newElement.removeClass("disabled");this.$button.removeClass("disabled").attr("aria-disabled",false)}if(this.$button.attr("tabindex")==-1&&!this.$element.data("tabindex")){this.$button.removeAttr("tabindex")}}this.$button.click(function(){return !m.isDisabled()})},togglePlaceholder:function(){var m=this.$element.val();this.$button.toggleClass("bs-placeholder",m===null||m===""||(m.constructor===Array&&m.length===0))},tabIndex:function(){if(this.$element.data("tabindex")!==this.$element.attr("tabindex")&&(this.$element.attr("tabindex")!==-98&&this.$element.attr("tabindex")!=="-98")){this.$element.data("tabindex",this.$element.attr("tabindex"));this.$button.attr("tabindex",this.$element.data("tabindex"))}this.$element.attr("tabindex",-98)},clickListener:function(){var m=this,n=f(document);n.data("spaceSelect",false);this.$button.on("keyup",function(o){if(/(32)/.test(o.keyCode.toString(10))&&n.data("spaceSelect")){o.preventDefault();n.data("spaceSelect",false)}});this.$button.on("click",function(){m.setSize()});this.$element.on("shown.bs.select",function(){if(!m.options.liveSearch&&!m.multiple){m.$menuInner.find(".selected a").focus()}else{if(!m.multiple){var o=m.liObj[m.$element[0].selectedIndex];if(typeof o!=="number"||m.options.size===false){return}var p=m.$lis.eq(o)[0].offsetTop-m.$menuInner[0].offsetTop;p=p-m.$menuInner[0].offsetHeight/2+m.sizeInfo.liHeight/2;m.$menuInner[0].scrollTop=p}}});this.$menuInner.on("click","li a",function(F){var u=f(this),p=u.parent().data("originalIndex"),D=m.$element.val(),w=m.$element.prop("selectedIndex"),x=true;if(m.multiple&&m.options.maxOptions!==1){F.stopPropagation()}F.preventDefault();if(!m.isDisabled()&&!u.parent().hasClass("disabled")){var B=m.$element.find("option"),C=B.eq(p),r=C.prop("selected"),A=C.parent("optgroup"),H=m.options.maxOptions,y=A.data("maxOptions")||false;if(!m.multiple){B.prop("selected",false);C.prop("selected",true);m.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",false);m.setSelected(p,true)}else{C.prop("selected",!r);m.setSelected(p,!r);u.blur();if(H!==false||y!==false){var q=H<B.filter(":selected").length,t=y<A.find("option:selected").length;if((H&&q)||(y&&t)){if(H&&H==1){B.prop("selected",false);C.prop("selected",true);m.$menuInner.find(".selected").removeClass("selected");m.setSelected(p,true)}else{if(y&&y==1){A.find("option:selected").prop("selected",false);C.prop("selected",true);var E=u.parent().data("optgroup");m.$menuInner.find('[data-optgroup="'+E+'"]').removeClass("selected");m.setSelected(p,true)}else{var o=typeof m.options.maxOptionsText==="string"?[m.options.maxOptionsText,m.options.maxOptionsText]:m.options.maxOptionsText,s=typeof o==="function"?o(H,y):o,G=s[0].replace("{n}",H),v=s[1].replace("{n}",y),z=f('<div class="notify"></div>');if(s[2]){G=G.replace("{var}",s[2][H>1?0:1]);v=v.replace("{var}",s[2][y>1?0:1])}C.prop("selected",false);m.$menu.append(z);if(H&&q){z.append(f("<div>"+G+"</div>"));x=false;m.$element.trigger("maxReached.bs.select")}if(y&&t){z.append(f("<div>"+v+"</div>"));x=false;m.$element.trigger("maxReachedGrp.bs.select")}setTimeout(function(){m.setSelected(p,false)},10);z.delay(750).fadeOut(300,function(){f(this).remove()})}}}}}if(!m.multiple||(m.multiple&&m.options.maxOptions===1)){m.$button.focus()}else{if(m.options.liveSearch){m.$searchbox.focus()}}if(x){if((D!=m.$element.val()&&m.multiple)||(w!=m.$element.prop("selectedIndex")&&!m.multiple)){l=[p,C.prop("selected"),r];m.$element.triggerNative("change")}}}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(o){if(o.currentTarget==this){o.preventDefault();o.stopPropagation();if(m.options.liveSearch&&!f(o.target).hasClass("close")){m.$searchbox.focus()}else{m.$button.focus()}}});this.$menuInner.on("click",".divider, .dropdown-header",function(o){o.preventDefault();o.stopPropagation();if(m.options.liveSearch){m.$searchbox.focus()}else{m.$button.focus()}});this.$menu.on("click",".popover-title .close",function(){m.$button.click()});this.$searchbox.on("click",function(o){o.stopPropagation()});this.$menu.on("click",".actions-btn",function(o){if(m.options.liveSearch){m.$searchbox.focus()}else{m.$button.focus()}o.preventDefault();o.stopPropagation();if(f(this).hasClass("bs-select-all")){m.selectAll()}else{m.deselectAll()}});this.$element.change(function(){m.render(false);m.$element.trigger("changed.bs.select",l);l=null})},liveSearchListener:function(){var n=this,m=f('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api",function(){n.$menuInner.find(".active").removeClass("active");if(!!n.$searchbox.val()){n.$searchbox.val("");n.$lis.not(".is-hidden").removeClass("hidden");if(!!m.parent().length){m.remove()}}if(!n.multiple){n.$menuInner.find(".selected").addClass("active")}setTimeout(function(){n.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(o){o.stopPropagation()});this.$searchbox.on("input propertychange",function(){n.$lis.not(".is-hidden").removeClass("hidden");n.$lis.filter(".active").removeClass("active");m.remove();if(n.$searchbox.val()){var p=n.$lis.not(".is-hidden, .divider, .dropdown-header"),o;if(n.options.liveSearchNormalize){o=p.find("a").not(":a"+n._searchStyle()+'("'+b(n.$searchbox.val())+'")')}else{o=p.find("a").not(":"+n._searchStyle()+'("'+n.$searchbox.val()+'")')}if(o.length===p.length){m.html(n.options.noneResultsText.replace("{0}",'"'+k(n.$searchbox.val())+'"'));n.$menuInner.append(m);n.$lis.addClass("hidden")}else{o.parent().addClass("hidden");var r=n.$lis.not(".hidden"),q;r.each(function(s){var t=f(this);if(t.hasClass("divider")){if(q===undefined){t.addClass("hidden")}else{if(q){q.addClass("hidden")}q=t}}else{if(t.hasClass("dropdown-header")&&r.eq(s+1).data("optgroup")!==t.data("optgroup")){t.addClass("hidden")}else{q=null}}});if(q){q.addClass("hidden")}p.not(".hidden").first().addClass("active")}}})},_searchStyle:function(){var m={begins:"ibegins",startsWith:"ibegins"};return m[this.options.liveSearchStyle]||"icontains"},val:function(m){if(typeof m!=="undefined"){this.$element.val(m);this.render();return this.$element}else{return this.$element.val()}},changeAll:function(n){if(!this.multiple){return}if(typeof n==="undefined"){n=true}this.findLis();var m=this.$element.find("option"),s=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),o=s.length,r=[];if(n){if(s.filter(".selected").length===s.length){return}}else{if(s.filter(".selected").length===0){return}}s.toggleClass("selected",n);for(var p=0;p<o;p++){var q=s[p].getAttribute("data-original-index");r[r.length]=m.eq(q)[0]}f(r).prop("selected",n);this.render(false);this.togglePlaceholder();this.$element.triggerNative("change")},selectAll:function(){return this.changeAll(true)},deselectAll:function(){return this.changeAll(false)},toggle:function(m){m=m||window.event;if(m){m.stopPropagation()}this.$button.trigger("click")},keydown:function(D){var o=f(this),x=o.is("input")?o.parent().parent():o.parent(),n,s=x.data("this"),p,z,r,v,y,m,t,B,A=":not(.disabled, .hidden, .dropdown-header, .divider)",w={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(s.options.liveSearch){x=o.parent().parent()}if(s.options.container){x=s.$menu}n=f('[role="listbox"] li',x);B=s.$newElement.hasClass("open");if(!B&&(D.keyCode>=48&&D.keyCode<=57||D.keyCode>=96&&D.keyCode<=105||D.keyCode>=65&&D.keyCode<=90)){if(!s.options.container){s.setSize();s.$menu.parent().addClass("open");B=true}else{s.$button.trigger("click")}s.$searchbox.focus();return}if(s.options.liveSearch){if(/(^9$|27)/.test(D.keyCode.toString(10))&&B){D.preventDefault();D.stopPropagation();s.$menuInner.click();s.$button.focus()}n=f('[role="listbox"] li'+A,x);if(!o.val()&&!/(38|40)/.test(D.keyCode.toString(10))){if(n.filter(".active").length===0){n=s.$menuInner.find("li");if(s.options.liveSearchNormalize){n=n.filter(":a"+s._searchStyle()+"("+b(w[D.keyCode])+")")}else{n=n.filter(":"+s._searchStyle()+"("+w[D.keyCode]+")")}}}}if(!n.length){return}if(/(38|40)/.test(D.keyCode.toString(10))){p=n.index(n.find("a").filter(":focus").parent());r=n.filter(A).first().index();v=n.filter(A).last().index();z=n.eq(p).nextAll(A).eq(0).index();y=n.eq(p).prevAll(A).eq(0).index();m=n.eq(z).prevAll(A).eq(0).index();if(s.options.liveSearch){n.each(function(F){if(!f(this).hasClass("disabled")){f(this).data("index",F)}});p=n.index(n.filter(".active"));r=n.first().data("index");v=n.last().data("index");z=n.eq(p).nextAll().eq(0).data("index");y=n.eq(p).prevAll().eq(0).data("index");m=n.eq(z).prevAll().eq(0).data("index")}t=o.data("prevIndex");if(D.keyCode==38){if(s.options.liveSearch){p--}if(p!=m&&p>y){p=y}if(p<r){p=r}if(p==t){p=v}}else{if(D.keyCode==40){if(s.options.liveSearch){p++}if(p==-1){p=0}if(p!=m&&p<z){p=z}if(p>v){p=v}if(p==t){p=r}}}o.data("prevIndex",p);if(!s.options.liveSearch){n.eq(p).children("a").focus()}else{D.preventDefault();if(!o.hasClass("dropdown-toggle")){n.removeClass("active").eq(p).addClass("active").children("a").focus();o.focus()}}}else{if(!o.is("input")){var u=[],q,E;n.each(function(){if(!f(this).hasClass("disabled")){if(f.trim(f(this).children("a").text().toLowerCase()).substring(0,1)==w[D.keyCode]){u.push(f(this).index())}}});q=f(document).data("keycount");q++;f(document).data("keycount",q);E=f.trim(f(":focus").text().toLowerCase()).substring(0,1);if(E!=w[D.keyCode]){q=1;f(document).data("keycount",q)}else{if(q>=u.length){f(document).data("keycount",0);if(q>u.length){q=1}}}n.eq(u[q-1]).children("a").focus()}}if((/(13|32)/.test(D.keyCode.toString(10))||(/(^9$)/.test(D.keyCode.toString(10))&&s.options.selectOnTab))&&B){if(!/(32)/.test(D.keyCode.toString(10))){D.preventDefault()}if(!s.options.liveSearch){var C=f(":focus");C.click();C.focus();D.preventDefault();f(document).data("spaceSelect",true)}else{if(!/(32)/.test(D.keyCode.toString(10))){s.$menuInner.find(".active a").click();o.focus()}}f(document).data("keycount",0)}if((/(^9$|27)/.test(D.keyCode.toString(10))&&B&&(s.multiple||s.options.liveSearch))||(/(27)/.test(D.keyCode.toString(10))&&!B)){s.$menu.parent().removeClass("open");if(s.options.container){s.$newElement.removeClass("open")}s.$button.focus()}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null;this.liObj={};this.reloadLi();this.render();this.checkDisabled();this.liHeight(true);this.setStyle();this.setWidth();if(this.$lis){this.$searchbox.trigger("propertychange")}this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove();if(this.$bsContainer){this.$bsContainer.remove()}else{this.$menu.remove()}this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};function i(o){var m=arguments;var q=o;[].shift.apply(m);var p;var n=this.each(function(){var v=f(this);if(v.is("select")){var u=v.data("selectpicker"),s=typeof q=="object"&&q;if(!u){var r=f.extend({},j.DEFAULTS,f.fn.selectpicker.defaults||{},v.data(),s);r.template=f.extend({},j.DEFAULTS.template,(f.fn.selectpicker.defaults?f.fn.selectpicker.defaults.template:{}),v.data().template,s.template);v.data("selectpicker",(u=new j(this,r)))}else{if(s){for(var t in s){if(s.hasOwnProperty(t)){u.options[t]=s[t]}}}}if(typeof q=="string"){if(u[q] instanceof Function){p=u[q].apply(u,m)}else{p=u.options[q]}}}});if(typeof p!=="undefined"){return p}else{return n}}var c=f.fn.selectpicker;f.fn.selectpicker=i;f.fn.selectpicker.Constructor=j;f.fn.selectpicker.noConflict=function(){f.fn.selectpicker=c;return this};f(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',j.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input',function(m){m.stopPropagation()});f(window).on("load.bs.select.data-api",function(){f(".selectpicker").each(function(){var m=f(this);i.call(m,m.data())})})})(jQuery);