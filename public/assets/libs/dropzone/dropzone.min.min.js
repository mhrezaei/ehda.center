(function(){var p,n,u,s,v,r,l,m,q=[].slice,o={}.hasOwnProperty,t=function(c,a){for(var b in a){if(o.call(a,b)){c[b]=a[b]}}function d(){this.constructor=c}d.prototype=a.prototype;c.prototype=new d();c.__super__=a.prototype;return c};l=function(){};n=(function(){function a(){}a.prototype.addEventListener=a.prototype.on;a.prototype.on=function(c,b){this._callbacks=this._callbacks||{};if(!this._callbacks[c]){this._callbacks[c]=[]}this._callbacks[c].push(b);return this};a.prototype.emit=function(){var g,c,e,f,d,b;f=arguments[0],g=2<=arguments.length?q.call(arguments,1):[];this._callbacks=this._callbacks||{};e=this._callbacks[f];if(e){for(d=0,b=e.length;d<b;d++){c=e[d];c.apply(this,g)}}return this};a.prototype.removeListener=a.prototype.off;a.prototype.removeAllListeners=a.prototype.off;a.prototype.removeEventListener=a.prototype.off;a.prototype.off=function(e,g){var c,f,h,d,b;if(!this._callbacks||arguments.length===0){this._callbacks={};return this}f=this._callbacks[e];if(!f){return this}if(arguments.length===1){delete this._callbacks[e];return this}for(h=d=0,b=f.length;d<b;h=++d){c=f[h];if(c===g){f.splice(h,1);break}}return this};return a})();p=(function(d){var c,b;t(a,d);a.prototype.Emitter=n;a.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];a.prototype.defaultOptions={url:null,method:"post",withCredentials:false,parallelUploads:2,uploadMultiple:false,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1000,maxFiles:null,params:{},clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,f){return f()},init:function(){return l},forceFallback:false,fallback:function(){var e,i,h,f,j,g;this.element.className=""+this.element.className+" dz-browser-not-supported";g=this.element.getElementsByTagName("div");for(f=0,j=g.length;f<j;f++){e=g[f];if(/(^| )dz-message($| )/.test(e.className)){i=e;e.className="dz-message";continue}}if(!i){i=a.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(i)}h=i.getElementsByTagName("span")[0];if(h){if(h.textContent!=null){h.textContent=this.options.dictFallbackMessage}else{if(h.innerText!=null){h.innerText=this.options.dictFallbackMessage}}}return this.element.appendChild(this.getFallbackForm())},resize:function(g){var e,f,h;e={srcX:0,srcY:0,srcWidth:g.width,srcHeight:g.height};f=g.width/g.height;e.optWidth=this.options.thumbnailWidth;e.optHeight=this.options.thumbnailHeight;if((e.optWidth==null)&&(e.optHeight==null)){e.optWidth=e.srcWidth;e.optHeight=e.srcHeight}else{if(e.optWidth==null){e.optWidth=f*e.optHeight}else{if(e.optHeight==null){e.optHeight=(1/f)*e.optWidth}}}h=e.optWidth/e.optHeight;if(g.height<e.optHeight||g.width<e.optWidth){e.trgHeight=e.srcHeight;e.trgWidth=e.srcWidth}else{if(f>h){e.srcHeight=g.height;e.srcWidth=e.srcHeight*h}else{e.srcWidth=g.width;e.srcHeight=e.srcWidth/h}}e.srcX=(g.width-e.srcWidth)/2;e.srcY=(g.height-e.srcHeight)/2;return e},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(J){var e,j,i,D,E,H,g,f,h,k,F,I,G;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}if(this.previewsContainer){J.previewElement=a.createElement(this.options.previewTemplate.trim());J.previewTemplate=J.previewElement;this.previewsContainer.appendChild(J.previewElement);k=J.previewElement.querySelectorAll("[data-dz-name]");for(D=0,g=k.length;D<g;D++){e=k[D];e.textContent=this._renameFilename(J.name)}F=J.previewElement.querySelectorAll("[data-dz-size]");for(E=0,f=F.length;E<f;E++){e=F[E];e.innerHTML=this.filesize(J.size)}if(this.options.addRemoveLinks){J._removeLink=a.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");J.previewElement.appendChild(J._removeLink)}j=(function(w){return function(x){x.preventDefault();x.stopPropagation();if(J.status===a.UPLOADING){return a.confirm(w.options.dictCancelUploadConfirmation,function(){return w.removeFile(J)})}else{if(w.options.dictRemoveFileConfirmation){return a.confirm(w.options.dictRemoveFileConfirmation,function(){return w.removeFile(J)})}else{return w.removeFile(J)}}}})(this);I=J.previewElement.querySelectorAll("[data-dz-remove]");G=[];for(H=0,h=I.length;H<h;H++){i=I[H];G.push(i.addEventListener("click",j))}return G}},removedfile:function(f){var e;if(f.previewElement){if((e=f.previewElement)!=null){e.parentNode.removeChild(f.previewElement)}}return this._updateMaxFilesReachedClass()},thumbnail:function(h,e){var i,f,j,g;if(h.previewElement){h.previewElement.classList.remove("dz-file-preview");g=h.previewElement.querySelectorAll("[data-dz-thumbnail]");for(f=0,j=g.length;f<j;f++){i=g[f];i.alt=h.name;i.src=e}return setTimeout(((function(k){return function(){return h.previewElement.classList.add("dz-image-preview")}})(this)),1)}},error:function(i,g){var h,e,j,f,k;if(i.previewElement){i.previewElement.classList.add("dz-error");if(typeof g!=="String"&&g.error){g=g.error}f=i.previewElement.querySelectorAll("[data-dz-errormessage]");k=[];for(e=0,j=f.length;e<j;e++){h=f[e];k.push(h.textContent=g)}return k}},errormultiple:l,processing:function(e){if(e.previewElement){e.previewElement.classList.add("dz-processing");if(e._removeLink){return e._removeLink.textContent=this.options.dictCancelUpload}}},processingmultiple:l,uploadprogress:function(h,j,i){var g,e,k,f,x;if(h.previewElement){f=h.previewElement.querySelectorAll("[data-dz-uploadprogress]");x=[];for(e=0,k=f.length;e<k;e++){g=f[e];if(g.nodeName==="PROGRESS"){x.push(g.value=j)}else{x.push(g.style.width=""+j+"%")}}return x}},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(e){if(e.previewElement){return e.previewElement.classList.add("dz-success")}},successmultiple:l,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:l,complete:function(e){if(e._removeLink){e._removeLink.textContent=this.options.dictRemoveFile}if(e.previewElement){return e.previewElement.classList.add("dz-complete")}},completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,queuecomplete:l,addedfiles:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'};c=function(){var i,j,g,f,e,h,k;f=arguments[0],g=2<=arguments.length?q.call(arguments,1):[];for(h=0,k=g.length;h<k;h++){j=g[h];for(i in j){e=j[i];f[i]=e}}return f};function a(g,h){var i,e,f;this.element=g;this.version=a.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string"){this.element=document.querySelector(this.element)}if(!(this.element&&(this.element.nodeType!=null))){throw new Error("Invalid dropzone element.")}if(this.element.dropzone){throw new Error("Dropzone already attached.")}a.instances.push(this);this.element.dropzone=this;i=(f=a.optionsForElement(this.element))!=null?f:{};this.options=c({},this.defaultOptions,i,h!=null?h:{});if(this.options.forceFallback||!a.isBrowserSupported()){return this.options.fallback.call(this)}if(this.options.url==null){this.options.url=this.element.getAttribute("action")}if(!this.options.url){throw new Error("No URL provided.")}if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}this.options.method=this.options.method.toUpperCase();if((e=this.getExistingFallback())&&e.parentNode){e.parentNode.removeChild(e)}if(this.options.previewsContainer!==false){if(this.options.previewsContainer){this.previewsContainer=a.getElement(this.options.previewsContainer,"previewsContainer")}else{this.previewsContainer=this.element}}if(this.options.clickable){if(this.options.clickable===true){this.clickableElements=[this.element]}else{this.clickableElements=a.getElements(this.options.clickable,"clickable")}}this.init()}a.prototype.getAcceptedFiles=function(){var g,e,h,f,i;f=this.files;i=[];for(e=0,h=f.length;e<h;e++){g=f[e];if(g.accepted){i.push(g)}}return i};a.prototype.getRejectedFiles=function(){var g,e,h,f,i;f=this.files;i=[];for(e=0,h=f.length;e<h;e++){g=f[e];if(!g.accepted){i.push(g)}}return i};a.prototype.getFilesWithStatus=function(h){var g,e,i,f,j;f=this.files;j=[];for(e=0,i=f.length;e<i;e++){g=f[e];if(g.status===h){j.push(g)}}return j};a.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(a.QUEUED)};a.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(a.UPLOADING)};a.prototype.getAddedFiles=function(){return this.getFilesWithStatus(a.ADDED)};a.prototype.getActiveFiles=function(){var g,e,h,f,i;f=this.files;i=[];for(e=0,h=f.length;e<h;e++){g=f[e];if(g.status===a.UPLOADING||g.status===a.QUEUED){i.push(g)}}return i};a.prototype.init=function(){var i,e,f,g,j,h,k;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(a.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){f=(function(x){return function(){if(x.hiddenFileInput){x.hiddenFileInput.parentNode.removeChild(x.hiddenFileInput)}x.hiddenFileInput=document.createElement("input");x.hiddenFileInput.setAttribute("type","file");if((x.options.maxFiles==null)||x.options.maxFiles>1){x.hiddenFileInput.setAttribute("multiple","multiple")}x.hiddenFileInput.className="dz-hidden-input";if(x.options.acceptedFiles!=null){x.hiddenFileInput.setAttribute("accept",x.options.acceptedFiles)}if(x.options.capture!=null){x.hiddenFileInput.setAttribute("capture",x.options.capture)}x.hiddenFileInput.style.visibility="hidden";x.hiddenFileInput.style.position="absolute";x.hiddenFileInput.style.top="0";x.hiddenFileInput.style.left="0";x.hiddenFileInput.style.height="0";x.hiddenFileInput.style.width="0";document.querySelector(x.options.hiddenInputContainer).appendChild(x.hiddenFileInput);return x.hiddenFileInput.addEventListener("change",function(){var D,C,B,w;C=x.hiddenFileInput.files;if(C.length){for(B=0,w=C.length;B<w;B++){D=C[B];x.addFile(D)}}x.emit("addedfiles",C);return f()})}})(this);f()}this.URL=(h=window.URL)!=null?h:window.webkitURL;k=this.events;for(g=0,j=k.length;g<j;g++){i=k[g];this.on(i,this.options[i])}this.on("uploadprogress",(function(x){return function(){return x.updateTotalUploadProgress()}})(this));this.on("removedfile",(function(x){return function(){return x.updateTotalUploadProgress()}})(this));this.on("canceled",(function(x){return function(w){return x.emit("complete",w)}})(this));this.on("complete",(function(x){return function(w){if(x.getAddedFiles().length===0&&x.getUploadingFiles().length===0&&x.getQueuedFiles().length===0){return setTimeout((function(){return x.emit("queuecomplete")}),0)}}})(this));e=function(x){x.stopPropagation();if(x.preventDefault){return x.preventDefault()}else{return x.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:(function(x){return function(w){return x.emit("dragstart",w)}})(this),dragenter:(function(x){return function(w){e(w);return x.emit("dragenter",w)}})(this),dragover:(function(x){return function(B){var w;try{w=B.dataTransfer.effectAllowed}catch(A){}B.dataTransfer.dropEffect="move"===w||"linkMove"===w?"move":"copy";e(B);return x.emit("dragover",B)}})(this),dragleave:(function(x){return function(w){return x.emit("dragleave",w)}})(this),drop:(function(x){return function(w){e(w);return x.drop(w)}})(this),dragend:(function(x){return function(w){return x.emit("dragend",w)}})(this)}}];this.clickableElements.forEach((function(x){return function(w){return x.listeners.push({element:w,events:{click:function(z){if((w!==x.element)||(z.target===x.element||a.elementInside(z.target,x.element.querySelector(".dz-message")))){x.hiddenFileInput.click()}return true}}})}})(this));this.enable();return this.options.init.call(this)};a.prototype.destroy=function(){var e;this.disable();this.removeAllFiles(true);if((e=this.hiddenFileInput)!=null?e.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return a.instances.splice(a.instances.indexOf(this),1)};a.prototype.updateTotalUploadProgress=function(){var j,i,e,x,f,g,k,h;x=0;e=0;j=this.getActiveFiles();if(j.length){h=this.getActiveFiles();for(g=0,k=h.length;g<k;g++){i=h[g];x+=i.upload.bytesSent;e+=i.upload.total}f=100*x/e}else{f=100}return this.emit("totaluploadprogress",f,e,x)};a.prototype._getParamName=function(e){if(typeof this.options.paramName==="function"){return this.options.paramName(e)}else{return""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")}};a.prototype._renameFilename=function(e){if(typeof this.options.renameFilename!=="function"){return e}return this.options.renameFilename(e)};a.prototype.getFallbackForm=function(){var g,h,e,f;if(g=this.getExistingFallback()){return g}e='<div class="dz-fallback">';if(this.options.dictFallbackText){e+="<p>"+this.options.dictFallbackText+"</p>"}e+='<input type="file" name="'+(this._getParamName(0))+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';h=a.createElement(e);if(this.element.tagName!=="FORM"){f=a.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');f.appendChild(h)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return f!=null?f:h};a.prototype.getExistingFallback=function(){var e,h,i,f,j,g;h=function(B){var z,k,A;for(k=0,A=B.length;k<A;k++){z=B[k];if(/(^| )fallback($| )/.test(z.className)){return z}}};g=["div","form"];for(f=0,j=g.length;f<j;f++){i=g[f];if(e=h(this.element.getElementsByTagName(i))){return e}}};a.prototype.setupEventListeners=function(){var h,i,e,f,j,g,k;g=this.listeners;k=[];for(f=0,j=g.length;f<j;f++){h=g[f];k.push((function(){var z,y;z=h.events;y=[];for(i in z){e=z[i];y.push(h.element.addEventListener(i,e,false))}return y})())}return k};a.prototype.removeEventListeners=function(){var h,i,e,f,j,g,k;g=this.listeners;k=[];for(f=0,j=g.length;f<j;f++){h=g[f];k.push((function(){var z,y;z=h.events;y=[];for(i in z){e=z[i];y.push(h.element.removeEventListener(i,e,false))}return y})())}return k};a.prototype.disable=function(){var g,e,h,f,i;this.clickableElements.forEach(function(j){return j.classList.remove("dz-clickable")});this.removeEventListeners();f=this.files;i=[];for(e=0,h=f.length;e<h;e++){g=f[e];i.push(this.cancelUpload(g))}return i};a.prototype.enable=function(){this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")});return this.setupEventListeners()};a.prototype.filesize=function(h){var f,y,e,g,i,k,z,j;e=0;g="b";if(h>0){k=["TB","GB","MB","KB","b"];for(y=z=0,j=k.length;z<j;y=++z){i=k[y];f=Math.pow(this.options.filesizeBase,4-y)/10;if(h>=f){e=h/Math.pow(this.options.filesizeBase,4-y);g=i;break}}e=Math.round(10*e)/10}return"<strong>"+e+"</strong> "+g};a.prototype._updateMaxFilesReachedClass=function(){if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit("maxfilesreached",this.files)}return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}};a.prototype.drop=function(e){var f,g;if(!e.dataTransfer){return}this.emit("drop",e);f=e.dataTransfer.files;this.emit("addedfiles",f);if(f.length){g=e.dataTransfer.items;if(g&&g.length&&(g[0].webkitGetAsEntry!=null)){this._addFilesFromItems(g)}else{this.handleFiles(f)}}};a.prototype.paste=function(e){var g,f;if((e!=null?(f=e.clipboardData)!=null?f.items:void 0:void 0)==null){return}this.emit("paste",e);g=e.clipboardData.items;if(g.length){return this._addFilesFromItems(g)}};a.prototype.handleFiles=function(f){var g,e,h,i;i=[];for(e=0,h=f.length;e<h;e++){g=f[e];i.push(this.addFile(g))}return i};a.prototype._addFilesFromItems=function(h){var f,g,e,i,j;j=[];for(e=0,i=h.length;e<i;e++){g=h[e];if((g.webkitGetAsEntry!=null)&&(f=g.webkitGetAsEntry())){if(f.isFile){j.push(this.addFile(g.getAsFile()))}else{if(f.isDirectory){j.push(this._addFilesFromDirectory(f,f.name))}else{j.push(void 0)}}}else{if(g.getAsFile!=null){if((g.kind==null)||g.kind==="file"){j.push(this.addFile(g.getAsFile()))}else{j.push(void 0)}}else{j.push(void 0)}}}return j};a.prototype._addFilesFromDirectory=function(i,e){var f,g,h;f=i.createReader();g=function(j){return typeof console!=="undefined"&&console!==null?typeof console.log==="function"?console.log(j):void 0:void 0};h=(function(j){return function(){return f.readEntries(function(A){var k,B,z;if(A.length>0){for(B=0,z=A.length;B<z;B++){k=A[B];if(k.isFile){k.file(function(w){if(j.options.ignoreHiddenFiles&&w.name.substring(0,1)==="."){return}w.fullPath=""+e+"/"+w.name;return j.addFile(w)})}else{if(k.isDirectory){j._addFilesFromDirectory(k,""+e+"/"+k.name)}}}h()}return null},g)}})(this);return h()};a.prototype.accept=function(e,f){if(e.size>this.options.maxFilesize*1024*1024){return f(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else{if(!a.isValidFile(e,this.options.acceptedFiles)){return f(this.options.dictInvalidFileType)}else{if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){f(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",e)}else{return this.options.accept.call(this,e,f)}}}};a.prototype.addFile=function(e){e.upload={progress:0,total:e.size,bytesSent:0};this.files.push(e);e.status=a.ADDED;this.emit("addedfile",e);this._enqueueThumbnail(e);return this.accept(e,(function(f){return function(g){if(g){e.accepted=false;f._errorProcessing([e],g)}else{e.accepted=true;if(f.options.autoQueue){f.enqueueFile(e)}}return f._updateMaxFilesReachedClass()}})(this))};a.prototype.enqueueFiles=function(f){var g,e,h;for(e=0,h=f.length;e<h;e++){g=f[e];this.enqueueFile(g)}return null};a.prototype.enqueueFile=function(e){if(e.status===a.ADDED&&e.accepted===true){e.status=a.QUEUED;if(this.options.autoProcessQueue){return setTimeout(((function(f){return function(){return f.processQueue()}})(this)),0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}};a.prototype._thumbnailQueue=[];a.prototype._processingThumbnail=false;a.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(e);return setTimeout(((function(f){return function(){return f._processThumbnailQueue()}})(this)),0)}};a.prototype._processThumbnailQueue=function(){if(this._processingThumbnail||this._thumbnailQueue.length===0){return}this._processingThumbnail=true;return this.createThumbnail(this._thumbnailQueue.shift(),(function(e){return function(){e._processingThumbnail=false;return e._processThumbnailQueue()}})(this))};a.prototype.removeFile=function(e){if(e.status===a.UPLOADING){this.cancelUpload(e)}this.files=m(this.files,e);this.emit("removedfile",e);if(this.files.length===0){return this.emit("reset")}};a.prototype.removeAllFiles=function(e){var h,f,i,g;if(e==null){e=false}g=this.files.slice();for(f=0,i=g.length;f<i;f++){h=g[f];if(h.status!==a.UPLOADING||e){this.removeFile(h)}}return null};a.prototype.createThumbnail=function(f,e){var g;g=new FileReader;g.onload=(function(h){return function(){if(f.type==="image/svg+xml"){h.emit("thumbnail",f,g.result);if(e!=null){e()}return}return h.createThumbnailFromUrl(f,g.result,e)}})(this);return g.readAsDataURL(f)};a.prototype.createThumbnailFromUrl=function(f,g,e,h){var i;i=document.createElement("img");if(h){i.crossOrigin=h}i.onload=(function(j){return function(){var D,E,k,H,J,F,I,G;f.width=i.width;f.height=i.height;k=j.options.resize.call(j,f);if(k.trgWidth==null){k.trgWidth=k.optWidth}if(k.trgHeight==null){k.trgHeight=k.optHeight}D=document.createElement("canvas");E=D.getContext("2d");D.width=k.trgWidth;D.height=k.trgHeight;r(E,i,(J=k.srcX)!=null?J:0,(F=k.srcY)!=null?F:0,k.srcWidth,k.srcHeight,(I=k.trgX)!=null?I:0,(G=k.trgY)!=null?G:0,k.trgWidth,k.trgHeight);H=D.toDataURL("image/png");j.emit("thumbnail",f,H);if(e!=null){return e()}}})(this);if(e!=null){i.onerror=e}return i.src=g};a.prototype.processQueue=function(){var g,e,h,f;e=this.options.parallelUploads;h=this.getUploadingFiles().length;g=h;if(h>=e){return}f=this.getQueuedFiles();if(!(f.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(f.slice(0,e-h))}else{while(g<e){if(!f.length){return}this.processFile(f.shift());g++}}};a.prototype.processFile=function(e){return this.processFiles([e])};a.prototype.processFiles=function(f){var g,e,h;for(e=0,h=f.length;e<h;e++){g=f[e];g.processing=true;g.status=a.UPLOADING;this.emit("processing",g)}if(this.options.uploadMultiple){this.emit("processingmultiple",f)}return this.uploadFiles(f)};a.prototype._getFilesWithXhr=function(e){var g,f;return f=(function(){var h,j,i,k;i=this.files;k=[];for(h=0,j=i.length;h<j;h++){g=i[h];if(g.xhr===e){k.push(g)}}return k}).call(this)};a.prototype.cancelUpload=function(h){var j,i,e,g,k,x,f;if(h.status===a.UPLOADING){i=this._getFilesWithXhr(h.xhr);for(e=0,k=i.length;e<k;e++){j=i[e];j.status=a.CANCELED}h.xhr.abort();for(g=0,x=i.length;g<x;g++){j=i[g];this.emit("canceled",j)}if(this.options.uploadMultiple){this.emit("canceledmultiple",i)}}else{if((f=h.status)===a.ADDED||f===a.QUEUED){h.status=a.CANCELED;this.emit("canceled",h);if(this.options.uploadMultiple){this.emit("canceledmultiple",[h])}}}if(this.options.autoProcessQueue){return this.processQueue()}};b=function(){var f,e;e=arguments[0],f=2<=arguments.length?q.call(arguments,1):[];if(typeof e==="function"){return e.apply(this,f)}return e};a.prototype.uploadFile=function(e){return this.uploadFiles([e])};a.prototype.uploadFiles=function(au){var j,Y,aj,ab,ap,ah,k,ad,al,aa,e,ay,ac,ar,aw,ag,av,Z,an,ai,am,aq,ax,h,f,g,i,aA,af,az,ae,ak,ao,at;an=new XMLHttpRequest();for(ai=0,h=au.length;ai<h;ai++){j=au[ai];j.xhr=an}ay=b(this.options.method,au);av=b(this.options.url,au);an.open(ay,av,true);an.withCredentials=!!this.options.withCredentials;aw=null;aj=(function(w){return function(){var x,z,y;y=[];for(x=0,z=au.length;x<z;x++){j=au[x];y.push(w._errorProcessing(au,aw||w.options.dictResponseError.replace("{{statusCode}}",an.status),an))}return y}})(this);ag=(function(w){return function(z){var E,x,A,C,D,F,G,y,B;if(z!=null){x=100*z.loaded/z.total;for(A=0,F=au.length;A<F;A++){j=au[A];j.upload={progress:x,total:z.total,bytesSent:z.loaded}}}else{E=true;x=100;for(C=0,G=au.length;C<G;C++){j=au[C];if(!(j.upload.progress===100&&j.upload.bytesSent===j.upload.total)){E=false}j.upload.progress=x;j.upload.bytesSent=j.upload.total}if(E){return}}B=[];for(D=0,y=au.length;D<y;D++){j=au[D];B.push(w.emit("uploadprogress",j,x,j.upload.bytesSent))}return B}})(this);an.onload=(function(w){return function(z){var y;if(au[0].status===a.CANCELED){return}if(an.readyState!==4){return}aw=an.responseText;if(an.getResponseHeader("content-type")&&~an.getResponseHeader("content-type").indexOf("application/json")){try{aw=JSON.parse(aw)}catch(x){z=x;aw="Invalid JSON response from server."}}ag();if(!((200<=(y=an.status)&&y<300))){return aj()}else{return w._finished(au,aw,z)}}})(this);an.onerror=(function(w){return function(){if(au[0].status===a.CANCELED){return}return aj()}})(this);ar=(af=an.upload)!=null?af:an;ar.onprogress=ag;ah={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){c(ah,this.options.headers)}for(ab in ah){ap=ah[ab];if(ap){an.setRequestHeader(ab,ap)}}Y=new FormData();if(this.options.params){az=this.options.params;for(e in az){Z=az[e];Y.append(e,Z)}}for(am=0,f=au.length;am<f;am++){j=au[am];this.emit("sending",j,an,Y)}if(this.options.uploadMultiple){this.emit("sendingmultiple",au,an,Y)}if(this.element.tagName==="FORM"){ae=this.element.querySelectorAll("input, textarea, select, button");for(aq=0,g=ae.length;aq<g;aq++){ad=ae[aq];al=ad.getAttribute("name");aa=ad.getAttribute("type");if(ad.tagName==="SELECT"&&ad.hasAttribute("multiple")){ak=ad.options;for(ax=0,i=ak.length;ax<i;ax++){ac=ak[ax];if(ac.selected){Y.append(al,ac.value)}}}else{if(!aa||((ao=aa.toLowerCase())!=="checkbox"&&ao!=="radio")||ad.checked){Y.append(al,ad.value)}}}}for(k=aA=0,at=au.length-1;0<=at?aA<=at:aA>=at;k=0<=at?++aA:--aA){Y.append(this._getParamName(k),au[k],this._renameFilename(au[k].name))}return this.submitRequest(an,Y,au)};a.prototype.submitRequest=function(e,f,g){return e.send(f)};a.prototype._finished=function(h,f,e){var i,g,j;for(g=0,j=h.length;g<j;g++){i=h[g];i.status=a.SUCCESS;this.emit("success",i,f,e);this.emit("complete",i)}if(this.options.uploadMultiple){this.emit("successmultiple",h,f,e);this.emit("completemultiple",h)}if(this.options.autoProcessQueue){return this.processQueue()}};a.prototype._errorProcessing=function(g,h,e){var i,f,j;for(f=0,j=g.length;f<j;f++){i=g[f];i.status=a.ERROR;this.emit("error",i,h,e);this.emit("complete",i)}if(this.options.uploadMultiple){this.emit("errormultiple",g,h,e);this.emit("completemultiple",g)}if(this.options.autoProcessQueue){return this.processQueue()}};return a})(n);p.version="4.3.0";p.options={};p.optionsForElement=function(a){if(a.getAttribute("id")){return p.options[u(a.getAttribute("id"))]}else{return void 0}};p.instances=[];p.forElement=function(a){if(typeof a==="string"){a=document.querySelector(a)}if((a!=null?a.dropzone:void 0)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return a.dropzone};p.autoDiscover=true;p.discover=function(){var c,f,e,d,a,b;if(document.querySelectorAll){e=document.querySelectorAll(".dropzone")}else{e=[];c=function(g){var i,h,j,k;k=[];for(h=0,j=g.length;h<j;h++){i=g[h];if(/(^| )dropzone($| )/.test(i.className)){k.push(e.push(i))}else{k.push(void 0)}}return k};c(document.getElementsByTagName("div"));c(document.getElementsByTagName("form"))}b=[];for(d=0,a=e.length;d<a;d++){f=e[d];if(p.optionsForElement(f)!==false){b.push(new p(f))}else{b.push(void 0)}}return b};p.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];p.isBrowserSupported=function(){var a,e,c,b,d;a=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList" in document.createElement("a"))){a=false}else{d=p.blacklistedBrowsers;for(c=0,b=d.length;c<b;c++){e=d[c];if(e.test(navigator.userAgent)){a=false;continue}}}}else{a=false}return a};m=function(c,f){var e,d,a,b;b=[];for(d=0,a=c.length;d<a;d++){e=c[d];if(e!==f){b.push(e)}}return b};u=function(a){return a.replace(/[\-_](\w)/g,function(b){return b.charAt(1).toUpperCase()})};p.createElement=function(b){var a;a=document.createElement("div");a.innerHTML=b;return a.childNodes[0]};p.elementInside=function(a,b){if(a===b){return true}while(a=a.parentNode){if(a===b){return true}}return false};p.getElement=function(c,b){var a;if(typeof c==="string"){a=document.querySelector(c)}else{if(c.nodeType!=null){a=c}}if(a==null){throw new Error("Invalid `"+b+"` option provided. Please provide a CSS selector or a plain HTML element.")}return a};p.getElements=function(a,f){var j,d,g,b,c,i,e,k;if(a instanceof Array){g=[];try{for(b=0,i=a.length;b<i;b++){d=a[b];g.push(this.getElement(d,f))}}catch(h){j=h;g=null}}else{if(typeof a==="string"){g=[];k=document.querySelectorAll(a);for(c=0,e=k.length;c<e;c++){d=k[c];g.push(d)}}else{if(a.nodeType!=null){g=[a]}}}if(!((g!=null)&&g.length)){throw new Error("Invalid `"+f+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return g};p.confirm=function(b,c,a){if(window.confirm(b)){return c()}else{if(a!=null){return a()}}};p.isValidFile=function(f,b){var g,c,e,d,a;if(!b){return true}b=b.split(",");c=f.type;g=c.replace(/\/.*$/,"");for(d=0,a=b.length;d<a;d++){e=b[d];e=e.trim();if(e.charAt(0)==="."){if(f.name.toLowerCase().indexOf(e.toLowerCase(),f.name.length-e.length)!==-1){return true}}else{if(/\/\*$/.test(e)){if(g===e.replace(/\/.*$/,"")){return true}}else{if(c===e){return true}}}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(a){return this.each(function(){return new p(this,a)})}}if(typeof module!=="undefined"&&module!==null){module.exports=p}else{window.Dropzone=p}p.ADDED="added";p.QUEUED="queued";p.ACCEPTED=p.QUEUED;p.UPLOADING="uploading";p.PROCESSING=p.UPLOADING;p.CANCELED="canceled";p.ERROR="error";p.SUCCESS="success";v=function(c){var e,g,h,d,b,i,f,j,a,k;f=c.naturalWidth;i=c.naturalHeight;g=document.createElement("canvas");g.width=1;g.height=i;h=g.getContext("2d");h.drawImage(c,0,0);d=h.getImageData(0,0,1,i).data;k=0;b=i;j=i;while(j>k){e=d[(j-1)*4+3];if(e===0){b=j}else{k=j}j=(b+k)>>1}a=j/i;if(a===0){return 1}else{return a}};r=function(j,f,a,b,k,e,h,i,g,c){var d;d=v(f);return j.drawImage(f,a,b,k,e,h,i,g,c/d)};s=function(e,a){var h,x,f,i,d,g,j,b,c;f=false;c=true;x=e.document;b=x.documentElement;h=(x.addEventListener?"addEventListener":"attachEvent");j=(x.addEventListener?"removeEventListener":"detachEvent");g=(x.addEventListener?"":"on");i=function(w){if(w.type==="readystatechange"&&x.readyState!=="complete"){return}(w.type==="load"?e:x)[j](g+w.type,i,false);if(!f&&(f=true)){return a.call(e,w.type||w)}};d=function(){var w;try{b.doScroll("left")}catch(z){w=z;setTimeout(d,50);return}return i("poll")};if(x.readyState!=="complete"){if(x.createEventObject&&b.doScroll){try{c=!e.frameElement}catch(k){}if(c){d()}}x[h](g+"DOMContentLoaded",i,false);x[h](g+"readystatechange",i,false);return e[h](g+"load",i,false)}};p._autoDiscoverFunction=function(){if(p.autoDiscover){return p.discover()}};s(window,p._autoDiscoverFunction)}).call(this);