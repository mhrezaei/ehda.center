!function(h){function d(m,l){if(!(this instanceof d)){var e=new d(h.extend({$source:m,$currentTarget:m.first()},l));return e.open(),e}h.featherlight.apply(this,arguments),this.chainCallbacks(j)}var k=function(a){window.console&&window.console.warn&&window.console.warn("FeatherlightGallery: "+a)};if("undefined"==typeof h){return k("Too much lightness, Featherlight needs jQuery.")}if(!h.featherlight){return k("Load the featherlight plugin before the gallery plugin")}var c="ontouchstart" in window||window.DocumentTouch&&document instanceof DocumentTouch,b=h.event&&h.event.special.swipeleft&&h,g=window.Hammer&&function(i){var a=new window.Hammer.Manager(i[0]);return a.add(new window.Hammer.Swipe),a},f=c&&(b||g);c&&!f&&k("No compatible swipe library detected; one must be included before featherlightGallery for swipe motions to navigate the galleries.");var j={afterClose:function(i,a){var l=this;return l.$instance.off("next."+l.namespace+" previous."+l.namespace),l._swiper&&(l._swiper.off("swipeleft",l._swipeleft).off("swiperight",l._swiperight),l._swiper=null),i(a)},beforeOpen:function(i,a){var l=this;return l.$instance.on("next."+l.namespace+" previous."+l.namespace,function(n){var m="next"===n.type?1:-1;l.navigateTo(l.currentNavigation()+m)}),f?l._swiper=f(l.$instance).on("swipeleft",l._swipeleft=function(){l.$instance.trigger("next")}).on("swiperight",l._swiperight=function(){l.$instance.trigger("previous")}):l.$instance.find("."+l.namespace+"-content").append(l.createNavigation("previous")).append(l.createNavigation("next")),i(a)},beforeContent:function(m,l){var o=this.currentNavigation(),a=this.slides().length;return this.$instance.toggleClass(this.namespace+"-first-slide",0===o).toggleClass(this.namespace+"-last-slide",o===a-1),m(l)},onKeyUp:function(i,a){var l={37:"previous",39:"next"}[a.keyCode];return l?(this.$instance.trigger(l),!1):i(a)}};h.featherlight.extend(d,{autoBind:"[data-featherlight-gallery]"}),h.extend(d.prototype,{previousIcon:"&#9664;",nextIcon:"&#9654;",galleryFadeIn:100,galleryFadeOut:300,slides:function(){return this.filter?this.$source.find(this.filter):this.$source},images:function(){return k("images is deprecated, please use slides instead"),this.slides()},currentNavigation:function(){return this.slides().index(this.$currentTarget)},navigateTo:function(m){var p=this,l=p.slides(),e=l.length,o=p.$instance.find("."+p.namespace+"-inner");return m=(m%e+e)%e,p.$currentTarget=l.eq(m),p.beforeContent(),h.when(p.getContent(),o.fadeTo(p.galleryFadeOut,0.2)).always(function(a){p.setContent(a),p.afterContent(),a.fadeTo(p.galleryFadeIn,1)})},createNavigation:function(a){var e=this;return h('<span title="'+a+'" class="'+this.namespace+"-"+a+'"><span>'+this[a+"Icon"]+"</span></span>").click(function(){h(this).trigger(a+"."+e.namespace)})}}),h.featherlightGallery=d,h.fn.featherlightGallery=function(a){return d.attach(this,a)},h(document).ready(function(){d._onReady()})}(jQuery);