/*!
 * jQuery & Zepto Lazy - v1.7.5
 * http://jquery.eisbehr.de/lazy/
 *
 * Copyright 2012 - 2017, Daniel 'Eisbehr' Kern
 *
 * Dual licensed under the MIT and GPL-2.0 licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl-2.0.html
 *
 * $("img.lazy").lazy();
 */
;(function(m,k){var l=m.jQuery||m.Zepto,i=0,h=false;l.fn.Lazy=l.fn.lazy=function(a){return new j(this,a)};l.Lazy=l.lazy=function(d,t,b){if(l.isFunction(t)){b=t;t=[]}if(!l.isFunction(b)){return}d=l.isArray(d)?d:[d];t=l.isArray(t)?t:[t];var s=j.prototype.config,a=s._f||(s._f={});for(var f=0,g=d.length;f<g;f++){if(s[d[f]]===k||l.isFunction(s[d[f]])){s[d[f]]=b}}for(var e=0,c=t.length;e<c;e++){a[t[e]]=d[0]}};function n(N,K,e,af,P){var a=0,V=-1,Z=-1,g=false,S="afterLoad",b="load",aa="error",ac="img",T="src",ad="srcset",c="sizes",L="background-image";function f(){g=m.devicePixelRatio>1;R(e);if(K.delay>=0){setTimeout(function(){ae(true)},K.delay)}if(K.delay<0||K.combined){af.e=W(K.throttle,function(o){if(o.type==="resize"){V=Z=-1}ae(o.all)});af.a=function(o){R(o);e.push.apply(e,o)};af.g=function(){return(e=l(e).filter(function(){return !l(this).data(K.loadedName)}))};af.f=function(p){for(var o=0;o<p.length;o++){var q=e.filter(function(){return this===p[o]});if(q.length){ae(false,q)}}};ae();l(K.appendScroll).on("scroll."+P+" resize."+P,af.e)}}function R(u){var z=K.defaultImage,r=K.placeholder,s=K.imageBase,w=K.srcsetAttribute,t=K.loaderAttribute,p=K._f||{};u=l(u).filter(function(){var B=l(this),A=ab(this);return !B.data(K.handledName)&&(B.attr(K.attribute)||B.attr(w)||B.attr(t)||p[A]!==k)}).data("plugin_"+K.name,N);for(var v=0,y=u.length;v<y;v++){var x=l(u[v]),o=ab(u[v]),q=x.attr(K.imageBaseAttribute)||s;if(o===ac&&q&&x.attr(w)){x.attr(w,Y(x.attr(w),q))}if(p[o]!==k&&!x.attr(t)){x.attr(t,p[o])}if(o===ac&&z&&!x.attr(T)){x.attr(T,z)}else{if(o!==ac&&r&&(!x.css(L)||x.css(L)==="none")){x.css(L,"url('"+r+"')")}}}}function ae(t,p){if(!e.length){if(K.autoDestroy){N.destroy()}return}var A=p||e,y=false,r=K.imageBase||"",w=K.srcsetAttribute,u=K.handledName;for(var v=0;v<A.length;v++){if(t||p||U(A[v])){var x=l(A[v]),o=ab(A[v]),z=x.attr(K.attribute),q=x.attr(K.imageBaseAttribute)||r,s=x.attr(K.loaderAttribute);if(!x.data(u)&&(!K.visibleOnly||x.is(":visible"))&&((z||x.attr(w))&&((o===ac&&(q+z!==x.attr(T)||x.attr(w)!==x.attr(ad)))||(o!==ac&&q+z!==x.css(L)))||s)){y=true;x.data(u,true);X(x,o,q,s)}}}if(y){e=l(e).filter(function(){return !l(this).data(u)})}}function X(w,o,t,s){++a;var v=function(){M("onError",w);O();v=l.noop};M("beforeLoad",w);var q=K.attribute,x=K.srcsetAttribute,z=K.sizesAttribute,B=K.retinaAttribute,u=K.removeAttribute,C=K.loadedName,p=w.attr(B);if(s){var y=function(){if(u){w.removeAttr(K.loaderAttribute)}w.data(C,true);M(S,w);setTimeout(O,1);y=l.noop};w.off(aa).one(aa,v).one(b,y);if(!M(s,w,function(D){if(D){w.off(b);y()}else{w.off(aa);v()}})){w.trigger(aa)}}else{var A=l(new Image());A.one(aa,v).one(b,function(){w.hide();if(o===ac){w.attr(c,A.attr(c)).attr(ad,A.attr(ad)).attr(T,A.attr(T))}else{w.css(L,"url('"+A.attr(T)+"')")}w[K.effect](K.effectTime);if(u){w.removeAttr(q+" "+x+" "+B+" "+K.imageBaseAttribute);if(z!==c){w.removeAttr(z)}}w.data(C,true);M(S,w);A.remove();O()});var r=(g&&p?p:w.attr(q))||"";A.attr(c,w.attr(z)).attr(ad,w.attr(x)).attr(T,r?t+r:null);A.complete&&A.trigger(b)}}function U(s){var r=s.getBoundingClientRect(),q=K.scrollDirection,p=K.threshold,t=((d()+p)>r.top)&&(-p<r.bottom),o=((Q()+p)>r.left)&&(-p<r.right);if(q==="vertical"){return t}else{if(q==="horizontal"){return o}}return t&&o}function Q(){return V>=0?V:(V=l(m).width())}function d(){return Z>=0?Z:(Z=l(m).height())}function ab(o){return o.tagName.toLowerCase()}function Y(r,q){if(q){var p=r.split(",");r="";for(var s=0,o=p.length;s<o;s++){r+=q+p[s].trim()+(s!==o-1?",":"")}}return r}function W(o,q){var r,p=0;return function(t,u){var v=+new Date()-p;function s(){p=+new Date();q.call(N,t)}r&&clearTimeout(r);if(v>o||!K.enableThrottle||u){s()}else{r=setTimeout(s,o-v)}}}function O(){--a;if(!e.length&&!a){M("onFinishedAll")}}function M(q,o,p){if((q=K[q])){q.apply(N,[].slice.call(arguments,1));return true}return false}if(K.bind==="event"||h){f()}else{l(m).on(b+"."+P,f)}}function j(b,d){var f=this,c=l.extend({},f.config,d),a={},e=c.name+"-"+(++i);f.config=function(p,g){if(g===k){return c[p]}c[p]=g;return f};f.addItems=function(g){a.a&&a.a(l.type(g)==="string"?l(g):g);return f};f.getItems=function(){return a.g?a.g():{}};f.update=function(g){a.e&&a.e({},!g);return f};f.force=function(g){a.f&&a.f(l.type(g)==="string"?l(g):g);return f};f.loadAll=function(){a.e&&a.e({all:true},true);return f};f.destroy=function(){l(c.appendScroll).off("."+e,a.e);l(m).off("."+e);a={};return k};n(f,c,b,a,e);return c.chainable?b:f}j.prototype.config={name:"lazy",chainable:true,autoDestroy:true,bind:"load",threshold:500,visibleOnly:false,appendScroll:m,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:false,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:true,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:true,throttle:250,beforeLoad:k,afterLoad:k,onError:k,onFinishedAll:k};l(m).on("load",function(){h=true})})(window);