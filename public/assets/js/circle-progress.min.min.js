!function(c){function d(a){this.init(a)}d.prototype={value:0,size:100,startAngle:-Math.PI,thickness:"auto",fill:{gradient:["#3aeabb","#fdd250"]},emptyFill:"rgba(0, 0, 0, .1)",animation:{duration:1200,easing:"circleProgressEasing"},animationStartValue:0,reverse:!1,lineCap:"butt",constructor:d,el:null,canvas:null,ctx:null,radius:0,arcFill:null,lastFrameValue:0,init:function(a){c.extend(this,a),this.radius=this.size/2,this.initWidget(),this.initFill(),this.draw()},initWidget:function(){var a=this.canvas=this.canvas||c("<canvas>").prependTo(this.el)[0];a.width=this.size,a.height=this.size,this.ctx=a.getContext("2d")},initFill:function(){function r(){var f=c("<canvas>")[0];f.width=a.size,f.height=a.size,f.getContext("2d").drawImage(b,0,0,o,o),a.arcFill=a.ctx.createPattern(f,"no-repeat"),a.drawFrame(a.lastFrameValue)}var a=this,t=this.fill,l=this.ctx,o=this.size;if(!t){throw Error("The fill is not specified!")}if(t.color&&(this.arcFill=t.color),t.gradient){var e=t.gradient;if(1==e.length){this.arcFill=e[0]}else{if(e.length>1){for(var h=t.gradientAngle||0,g=t.gradientDirection||[o/2*(1-Math.cos(h)),o/2*(1+Math.sin(h)),o/2*(1+Math.cos(h)),o/2*(1-Math.sin(h))],n=l.createLinearGradient.apply(l,g),u=0;u<e.length;u++){var B=e[u],s=u/(e.length-1);c.isArray(B)&&(s=B[1],B=B[0]),n.addColorStop(s,B)}this.arcFill=n}}}if(t.image){var b;t.image instanceof Image?b=t.image:(b=new Image,b.src=t.image),b.complete?r():b.onload=r}},draw:function(){this.animation?this.drawAnimated(this.value):this.drawFrame(this.value)},drawFrame:function(a){this.lastFrameValue=a,this.ctx.clearRect(0,0,this.size,this.size),this.drawEmptyArc(a),this.drawArc(a)},drawArc:function(e){var i=this.ctx,b=this.radius,j=this.getThickness(),a=this.startAngle;i.save(),i.beginPath(),this.reverse?i.arc(b,b,b-j/2,a-2*Math.PI*e,a):i.arc(b,b,b-j/2,a,a+2*Math.PI*e),i.lineWidth=j,i.lineCap=this.lineCap,i.strokeStyle=this.arcFill,i.stroke(),i.restore()},drawEmptyArc:function(e){var i=this.ctx,b=this.radius,j=this.getThickness(),a=this.startAngle;e<1&&(i.save(),i.beginPath(),e<=0?i.arc(b,b,b-j/2,0,2*Math.PI):this.reverse?i.arc(b,b,b-j/2,a,a-2*Math.PI*e):i.arc(b,b,b-j/2,a+2*Math.PI*e,a),i.lineWidth=j,i.strokeStyle=this.emptyFill,i.stroke(),i.restore())},drawAnimated:function(e){var b=this,h=this.el,a=c(this.canvas);a.stop(!0,!1),h.trigger("circle-animation-start"),a.css({animationProgress:0}).animate({animationProgress:1},c.extend({},this.animation,{step:function(g){var f=b.animationStartValue*(1-g)+e*g;b.drawFrame(f),h.trigger("circle-animation-progress",[g,f])}})).promise().always(function(){h.trigger("circle-animation-end")})},getThickness:function(){return c.isNumeric(this.thickness)?this.thickness:this.size/14},getValue:function(){return this.value},setValue:function(a){this.animation&&(this.animationStartValue=this.lastFrameValue),this.value=a,this.draw()}},c.circleProgress={defaults:d.prototype},c.easing.circleProgressEasing=function(e,i,b,j,a){return(i/=a/2)<1?j/2*i*i*i+b:j/2*((i-=2)*i*i+2)+b},c.fn.circleProgress=function(b,j){var a="circle-progress",e=this.data(a);if("widget"==b){if(!e){throw Error('Calling "widget" method on not initialized instance is forbidden')}return e.canvas}if("value"==b){if(!e){throw Error('Calling "value" method on not initialized instance is forbidden')}if("undefined"==typeof j){return e.getValue()}var i=arguments[1];return this.each(function(){c(this).data(a).setValue(i)})}return this.each(function(){var h=c(this),f=h.data(a),g=c.isPlainObject(b)?b:{};if(f){f.init(g)}else{var l=c.extend({},h.data());"string"==typeof l.fill&&(l.fill=JSON.parse(l.fill)),"string"==typeof l.animation&&(l.animation=JSON.parse(l.animation)),g=c.extend(l,g),g.el=h,f=new d(g),h.data(a,f)}})}}(jQuery);function count(p,u,m){var s=Date.parse(new Date("1/1/2016"));var t=Date.parse(new Date());var l=((t-s)/1000)%(u*60);if(isDefined(m)&&m){l=(u*60)-l}var v=Math.floor((l)%60);var r=Math.floor((l/60)%60);var o=Math.floor((l/(60*60))%24);var n=p.next().find(".circle-progress");var q=parseInt(n.css("stroke-dasharray"));if(o){p.find(".hours").html(farsiDigits(twoDigits(o))+":")}else{p.find(".hours").empty()}p.find(".minutes").html(farsiDigits(twoDigits(r))+":");p.find(".secconds").html(farsiDigits(twoDigits(v)));p.parent().find(".circle").circleProgress({value:Math.floor((l*100)/(u*60))/100,animation:false,thickness:13,startAngle:4.7});$(window).trigger("resize")}$(document).ready(function(){var timers=new Object;if($(".timer").length){$(".timer").each(function(index){eval("timer"+index+" = "+setInterval(function(){var elem=$($(".timer")[index]);count(elem,parseInt($($(".timer")[index]).attr("data-minutes")),elem.hasClass("count-down"))},1000))})}});